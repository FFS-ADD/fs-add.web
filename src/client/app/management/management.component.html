<div class="management-content">

    <md-card elevation="5">

      <md-card-subtitle style="text-align: left">
        <i class="fa fa-users" style="font-size: 20px; margin:4px 4px 0 0"></i>
        <span style="font-size: 20px">User Management</span>
      </md-card-subtitle>

      <md-card-content>

        <p-confirmDialog width="425"></p-confirmDialog>

        <div class="ui-widget-header" style="height: 40px; padding:4px 10px;border-bottom: 0 none;text-align: left">
          <i class="fa fa-search" style="height: 30px; margin:4px 4px 0 0"></i>
          <input #gb type="text" pInputText style="height: 30px;" size="30" placeholder="Global Filter">
        </div>
        <p-dataTable [value]="users" [rows]="3" [paginator]="true" [globalFilter]="gb" #dt selectionMode="single" [(selection)]="selectedUser">
          <p-headerColumnGroup>
            <p-row>
              <p-column header="" [style]="{width:'30px'}"></p-column>
              <p-column header="No" [style]="{width:'40px'}"></p-column>
              <p-column header="Project"></p-column>
              <p-column header="Avatar"></p-column>
              <p-column header="Mmail"></p-column>
              <p-column header="FristName"></p-column>
              <p-column header="LastName"></p-column>
              <p-column header="Action" [style]="{width:'85px'}"></p-column>
            </p-row>
          </p-headerColumnGroup>
          <!--<p-footer><div style="text-align: left">Selected User: {{selectedUser ? selectedUser.no + ' - ' + selectedUser.project + ' - ' + selectedUser.avatar + ' - ' + selectedUser.email: 'none'}}</div></p-footer>-->
          <p-column  styleClass="col-icon"  [style]="{'width':'300px'}" selectionMode="single"></p-column>
          <p-column  field="no"></p-column>
          <p-column field="project"></p-column>
          <p-column field="avatar">
            <template let-col let-user="rowData" pTemplate="body">
              <img style="width: 35px;" src="{{user[col.field]}}">
            </template>
          </p-column>
          <p-column field="email"></p-column>
          <p-column field="fristName"></p-column>
          <p-column field="lastName"></p-column>
          <p-column styleClass="col-button">
            <template let-col let-user="rowData" pTemplate="body">
              <button type="button" style="font-size: 12px;  height: 25px" (click)="confirmPopup(user.no)" pButton icon="fa-trash" label="Delete"></button>
            </template>
          </p-column>
        </p-dataTable>
      </md-card-content>

      <md-card style="height: 280px">
        <md-card-content>
          <div class="ui-g">
            <div class="ui-g-5">
              <img style="width: 160px; height:160px; border-radius: 50%;" src="{{selectedUser ? selectedUser.avatar: null}}">
              <!--<p-fileUpload name="myfile[]" url="http://localhost:3000/upload"-->
                            <!--accept="image/*" maxFileSize="1000000">-->
              <!--</p-fileUpload>-->
              <div style="padding-top: 5px">
                <button class="uploadfile" [disabled]="isUploading">{{uploadMessage}}
                  <input type="file" name="" id="" maxlength="1000000"  accept="image/png,image/gif" (change)="fileChangeEvent($event)">
                </button>
              </div>
              <p class="error" *ngIf="errorDiagnostic">{{errorDiagnostic}}</p>
            </div>
            <div class="ui-g-6">
              <form (ngSubmit)="onSubmit()" style="text-align: right">
                <div class="field" style="padding-bottom: 3px">
                  <label for="project" style="padding-right: 10px">Project</label>
                  <input id="project" type="text" size="30" style="height: 30px;"placeholder="Global Filter"/>
                </div>
                <div class="field" style="padding-bottom: 3px">
                  <label for="email" style="padding-right: 10px">Email</label>
                  <input id="email" type="text" size="30" required style="height: 30px;" placeholder="Global Filter" />
                </div>
                <div class="field" style="padding-bottom: 3px">
                  <label for="password" style="padding-right: 10px">Password</label>
                  <input id="password" type="text" size="30" style="height: 30px;"  placeholder="Global Filter"/>
                </div>
                <div class="field" style="padding-bottom: 3px">
                  <label for="firstName" style="padding-right: 10px">FirstName</label>
                  <input id="firstName" type="text" size="30" style="height: 30px;"  placeholder="Global Filter" />
                </div>
                <div class="field" style="padding-bottom: 3px">
                  <label for="lastName" style="padding-right: 10px">LastName</label>
                  <input id="lastName" type="text" size="30" style="height: 30px;" placeholder="Global Filter"/>
                </div>
              </form>
              <div class="ui-g-4">
                <button type="button" style="font-size: 14px;  height: 30px"  (click)="addNew()" pButton icon="fa-check" label="Add"></button>
              </div>
              <div class="ui-g-4">
                <button type="button" style="font-size: 14px;  height: 30px" (click)="editItem()" pButton icon="fa-pencil-square-o" label="Edit"></button>
              </div>
              <div class="ui-g-4">
                <button type="button" style="font-size: 14px;  height: 30px" (click)="clearInputs()" pButton icon="fa-trash" label="Clean"></button>
              </div>
            </div>
          </div>
        </md-card-content>
      </md-card>

    </md-card>

</div>
